# git底层原理

## ```.git```隐藏文件夹

![](2022-11-28-23-25-41.png)

## blob对象、tree对象、commit对象

### blob对象

**key:val**组成的键值对，**key**是**val**对应的Hash

#### ```git hash-object -w```，保存blob对象

![](2022-11-28-23-57-00.png)

从窗口读入内容，并返回其Hash值
如果命令不加```-w```，不会往Git的数据库中保存

![](2022-11-29-00-00-16.png)

加上```-w```之后，会往Git的数据库中保存

![](2022-11-29-00-04-21.png)

Git的数据库中有了新东西

![](2022-11-29-00-05-50.png)

用下面命令可以查询指定文件夹下的所有文件

![](2022-11-29-00-12-17.png)

发现新文件的命名来自前面的Hash值：
1. Hash值的前2位作为**目录名**
2. Hash值的其他位作为**文件名**

使用cat命令，看到的是压缩过的内容

![](2022-11-29-00-16-07.png)

想要看原内容

#### ```git cat-file -p```，读取blob对象

![](2022-11-29-00-22-23.png)

![](2022-11-29-00-20-50.png)

如果把```-p```换成```-t```，显示该Hash值对应一个blob对象

![](2022-11-29-00-23-48.png)

#### 对单一文件的版本控制

![](2022-11-29-00-29-08.png)

**创建**一个文件**test.txt**并用Git版本控制

![](2022-11-29-00-34-36.png)

**修改**上面的那个文件**test.txt**并用Git版本控制

![](2022-11-29-00-38-51.png)

再**创建**一个文件**new.txt**并用Git版本控制

![](2022-11-29-00-45-21.png)

每个blob对象只能存储一个文件

p4
23min

