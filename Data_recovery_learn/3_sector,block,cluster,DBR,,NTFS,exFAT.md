# 扇区和簇（块）的区别

扇区(sector)，块(block)，簇(cluster)

[操作系统 | “扇区”、“簇”、“块”、“页”等概念](https://blog.csdn.net/weixin_47187147/article/details/126908793)

![](resources/2023-08-05-18-10-45.png)

- 扇区是对硬盘而言，是物理层的
- 簇（块）是对文件系统而言，是逻辑层的
- 磁盘控制器是用来映射两层的
- 一个块大小 = 一个扇区大小*2^n

扇区是磁盘最小的物理存储单元，是磁头从磁盘中读取数据的最小单位（一般512B），即磁头每次从磁盘中读取数据，都是一个扇区一个扇区读的。但由于操作系统无法对数目众多的扇区进行寻址，所以操作系统就将相邻的扇区组合在一起形成一个簇，然后再对簇进行管理（每个簇可以包括2、4、8、16、 32或64个扇区）

 簇（块）是操作系统与磁盘（硬盘）交互的最小数据单元（在linux系统中称为块，在windows系统中称为簇）。操作系统从硬盘中拿一块数据，即完成一次磁盘IO

 簇（块）的大小在硬盘格式化时被指定，一般有1K，2K，4K（最常用）。如果块的大小设置为4K，那么磁盘要读取8个扇区之后，才将数据块传给操作系统。另外， 簇（块）也是DOS下数据存储的最小单元。例如，如果一个文件的大小为1K，而块的大小为4K，那么该文件还是会占用一个块，块中剩下的3K被空闲出来，不能用于存储其他数据。因此，设置块的大小时，需要考虑要存储文件的大小

# 文件系统

文件系统是对数据存储进行管理的一种机制
格式化的目的就是建立文件系统从而管理文件

NTFS、FAT32、exFAT文件系统的第一个扇区叫 DBR 系统引导扇区

在DBR前有三个字节代表文件系统跳转指令：
- FAT32文件系统跳转指令: EB 58 90
- FAT16文件系统跳转指令: EB 3C 90
- NTFS 文件系统跳转指令: EB 52 90
- exfat 文件系统跳转指令: EB 76 90

## FAT32文件系统

## NTFS文件系统

NTFS 意思是Windows NT的文件系统，它的优点是安全性和稳定性好，能自动记录与文件的变动操作，系统不易崩溃，具有文件修复能力，出现错误能迅速修复，是目前Win系统主要采用的文件系统，缺点是微软的Win系统独家支持，其他系统如果要访问 NTFS 格式设备中的文件数据，需要采取一些特别的技术手段

![](resources/2023-08-06-16-46-36.png)

### NTFS文件系统的组成



### NTFS文件系统的DBR

与FAT32的DBR类似，NTFS文件系统的DBR记录了每个扇区的字节数，每个簇的扇区数，MFT的起始位置等

![](resources/2023-08-06-17-44-56.png)
![](resources/2023-08-06-17-46-47.png)

## NTFS文件系统的元文件



## exFAT文件系统

extFAT 意思是指扩展文件分配表 (Extended File Allocation Table)，是微软在2006年发表的存储格式，是微软为闪存开发的文件系统。作为FAT32的进化版，它还有一个名字叫 FAT64。与前辈 FAT32 相比，它可以存储4GB以上的大文件；与另一位前辈 NTFS 相比，它对闪存更友好，支持的系统更多。目前该格式主要用于优盘等外接存储设备，不能用于内部硬盘










