# 数据存储形态

## 二进制

高电平 =1
低电平 =0

1位十六进制数 对应 4位二进制数

## 大端存储和小端存储

- 大端模式，是指数据的高字节保存在内存的低地址中，而数据的低字节保存在内存的高地址中，存储模式类似把数据当作字符串顺序处理
- 小端模式，是指数据的高字节保存在内存的高地址中，而数据的低字节保存在内存的低地址中，存储模式将地址的高低和数据位权有效地结合起来

### 采用大端存储的文件系统

HFS
EXT3的日志文件

### 采用大端存储的文件系统

FAT32
NTFS
exFAT
ExTx
DOS分区表

# 尝试使用DiskGenius软件恢复数据

![](resources/2023-08-08-22-57-52.png)
显示孤立文件，表示要恢复的文件所在的目录结构已被破坏

![](resources/2023-08-08-22-59-58.png)
要恢复的文件预览的十六进制内容全是0，恢复出的文件不能正常打开，恢复失败

# 手动恢复数据

## 虚拟磁盘工具

windows系统的磁盘管理中，先选中某一块磁盘，然后右键点击磁盘管理，选择创建VHD
![](resources/2023-08-08-23-15-25.png)

配置VHD
![](resources/2023-08-08-23-19-17.png)
![](resources/2023-08-08-23-21-43.png)

接下来要初始化磁盘
![](resources/2023-08-08-23-35-56.png)
![](resources/2023-08-08-23-37-03.png)

然后新建简单卷
![](resources/2023-08-08-23-37-39.png)
![](resources/2023-08-08-23-41-25.png)
![](resources/2023-08-08-23-42-30.png)

最终效果如下
![](resources/2023-08-08-23-43-11.png)

## winhex

winhex是一个十六进制磁盘编辑软件
注意，打开软件时，要以管理员身份运行

### 打开磁盘

![](resources/2023-08-08-23-46-10.png)

### 磁盘克隆

![](resources/2023-08-08-23-58-30.png)

### 查找十六进制

![](resources/2023-08-09-00-00-22.png)
**条件:偏移计算** 用来限制，在每个扇区中，只比较指定的字节
**继续搜索** 的快捷键是 F3
**列出搜索结果** 可以用列表形式显示多个结果
![](resources/2023-08-09-18-37-00.png)
点击 **位置管理器** 可以退出搜索结果列表

### 查找文本

类似查找十六进制

### 更新快照

![](resources/2023-08-09-19-18-20.png)
修改磁盘的十六进制信息，更新快照后，变化就可以呈现在winhex的文件列表中
注意：**更新快照**只是在winhex中显示文件的变化，**保存扇区**则是真正将修改存到磁盘中，将覆盖磁盘中原有的十六进制信息

### 跳转至扇区

![](resources/2023-08-09-19-41-22.png)
同理还有 跳转至偏移量

### 文件比较

![](resources/2023-08-09-19-49-05.png)

为了演示，这里先把当前磁盘的全部扇区复制到文件
![](resources/2023-08-09-20-01-41.png)

然后修改当前磁盘的第2个扇区的前2个字节
![](resources/2023-08-09-20-08-45.png)

把当前磁盘和之前保存的磁盘文件进行比较
![](resources/2023-08-09-20-09-21.png)

![](resources/2023-08-09-20-07-21.png)
![](resources/2023-08-09-20-07-56.png)

#### 同步窗口

![](resources/2023-08-09-20-14-31.png)
![](resources/2023-08-09-20-15-55.png)

#### 同步和比较

非常有用的功能，能看出某步操作带来了哪些变化

![](resources/2023-08-09-20-18-48.png)

### 安全擦除

文件删除后不能恢复

![](resources/2023-08-09-20-22-07.png)

### 按文件类型恢复

根据文件头来判断文件所属的类型，进行恢复，不用管目录是否损坏
但这样恢复出来的文件没有原来的文件名和目录结构

按住 Shift 键，再点击鼠标右键菜单中的删除按钮，可以永久性删除文件
![](resources/2023-08-09-20-29-09.png)

通过文件类型恢复
![](resources/2023-08-09-20-31-48.png)
![](resources/2023-08-09-20-33-34.png)
![](resources/2023-08-09-20-34-51.png)

这个文件大小较小，没有被多次修改，存储是连续的，所以能恢复成功
存储不连续的文件，这样恢复会失败

# RAID

# NAS

